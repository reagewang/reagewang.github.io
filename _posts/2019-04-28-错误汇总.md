---
layout: post
title: "错误信息汇总"
tags: [build, debug]
comments: true
---

错误信息汇总

# 编译通过但打包时提示png图片资源错误
---
FAILURE: Build failed with an exception.
 
What went wrong:
Execution failed for task ':app:mergeReleaseResources'.
java.util.concurrent.ExecutionException: com.android.builder.internal.aapt.v2.Aapt2Exception: Android resource compilation failed
Output:  D:\Gitee\sun\Launcher\app\src\main\res\mipmap-mdpi\tech_ac_statusbar_air_seat_ventilation_left_off.png: error: failed to read PNG signature: file does not start with PNG signature.

原因是图片后缀虽然是png但是图片本身资源不是

# 在build lib中的class文件时，没找到其中一个jar文件，这个文件不存在。
---
Error:FAILURE: Build failed with an exception.

* What went wrong:
Could not resolve all files for configuration ':app:debugCompileClasspath'.
> Failed to transform file 'CommonTools.jar' to match attributes {artifactType=processed-jar} using transform IdentityTransform
   > Transform output file D:\Gitee\sun\Launcher\app\libs\CommonTools.jar does not exist.

* Try:
Run with --stacktrace option to get the stack trace. Run with --info or --debug option to get more log output. Run with --scan to get full insights.

* Get more help at https://help.gradle.org

BUILD FAILED in 2s

看了下各个libs下的文件，发现确实没有。但是以往build的时候，并没有出现上述问题。仔细想了想，以前build没有出现这个问题，说明这个jar在项目中没有被用到，因为如果有用到，而jar包又确实不存在，肯定会build失败。所以，就想把该jar注释掉试试看build会如何

重新build后，可以build成功

回顾以前，想起来，当初项目用到的一个功能，需要使用第三方的lib，所以使用了上面的jar。 后来，项目中又用到另一个功能，需要使用同一个服务商的另一个lib，这个lib包含了上面lib的功能，所以把原来的删除掉，但是compile files这块还存在没有去掉

结论：新的版本as，至少3.0.1，增加了对编译时使用lib的校验，如果没有找到相应的jar，就会报错。

# c++编译错误：invalid new-expression of abstract class type
---
出现这个错误原因是new 了一个抽象类出错，说明父类（接口）中有纯虚函数没有实现。接口里的纯虚函数全部需要实现，这样才能new 子类。

# Ubuntu下run格式双击无效
要先右键--权限--允许以程序运行

# Qt setGeometry时没有移动到指定的位置原因
QWindow变更大小时需要reSize重置窗口的大小

# This Template did not Produce a Java Class or an interface
找到Android Studio安装目录下的Studio.exe.vmoptions，如果是64位的，就用记事本打开64的这个文件。在末尾添加`-Djdk.util.zip.ensureTrailingSlash=false`保存。重启Android Studio就可以了

# Android P 运行JobService时提示 No such service class
jobId需要唯一
> JobInfo.Builder builder = new JobInfo.Builder(jobId, new ComponentName(包名, 类名);
