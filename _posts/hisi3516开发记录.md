# hisi3516开发记录

## 修改ip地址
vi /userdata/user.conf

```
# network config
RUN_TELNETD=yes                         # run telnetd after system run default:yes
ETH0_CFG=static                         # static or dhcp
BOARD_IP=192.168.102.60
NETMASK=255.255.0.0
BROADCAST=192.168.255.255
```

## 修改telnet密码
passwd root

```
~ # passwd root
Changing password for root
New password:
Bad password: too weak
Retype password:
passwd: password for root changed by root
~ # exit
```

## mount虚拟机目录
mkdir /root/nfsdir
### 添加mount指令到/etc/init.d/rcS
mount -t nfs -o nolock 192.168.102.58:/home/wh/nfsdir  /root/nfsdir

## 拷贝qt5.12.9环境到mount目录
cp -a /opt/qt5.12.9_hi3516dv300/lib/ /opt/qt5.12.9_hi3516dv300/plugins/ /opt/qt5.12.9_hi3516dv300/qml/ ~/nfsdir/qt5129/

cp -a /root/nfsdir/qt5129/ /usr/qt5129/

## 创建启动应用脚本
```
export QTDIR=/usr/qt5129
export QML2_IMPORT_PATH=$QTDIR/qml
export QT_QPA_FONTDIR=$QTDIR/lib/fonts
export LD_LIBRARY_PATH=$QTDIR/lib:$LD_LIBRARY_PATH
export QT_QPA_PLATFORM_PLUGIN_PATH=$QTDIR/plugins
export QT_QPA_PLATFORM=linuxfb:fb=/dev/fb0
export QT_QPA_GENERIC_PLUGINS=evdevmouse:/dev/input/event0,evdevkeyboard:/dev/input/event1

./QtVirtualKeyboardDemo &
```

## qml中增加自定义字体
```
FontLoader {
    id: customFont;
    source: "qrc:/res/alifree.ttf"
}

Text {
    font.family: customFont.name
}
```





